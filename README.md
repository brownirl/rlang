# RLang v1 (In Progress)

## Getting Started

> **Requires** Python 3.7 and Antlr 4.9.2
- Create virtual environment (conda or venv)
- Activate environment and Pip install dependencies 
    ```pip install -r requirements.txt```
- Clone this [simple_rl](https://github.com/rafarodsa/simple_rl) fork and pip-install it.
    ```pip install path/to/simple_rl/.``` (if you're developing, install it with the `-e` flag for convenience)

## Directory structure

- `examples/`: example RLang programs and RLang-informed agents.
- `antlr/`: contains all antlr-related stuff. core RLang development mostly happens here.
- `sphinx/`: contains all documentation generation stuff
- `rlang/`: directory that contains the `rlang` package
  - `rlang/`: the actual `rlang` package
    - `agents/`: contains implementations of RLang-enabled agents
    - `language/`: contains the python files for lexing/parsing/listening. Most of these files are generated by Antlr4.
    - `grounding/`: contains all the RLang groundings.
  - `docs/`
  - `tests/`
  - `examples/`

## How to run tests

- In the `rlang/rlang/tests/` directory run `pytest listener_test/listener_test.py`.
    
## Building the Lexer and Parser with Antlr4

- Run `mvn compile` from the root directory to run Antlr4.
- Clean with `mvn clean`, though it should do it automatically in each build cycle.
- Run tests with `mvn test`.
- Check out `antlr/README.md` and `antlr/pom.xml` for more info on grammar development.

## Building the documentation with Sphinx

- You can easily generate html files by running `make clean` and `make html` from `sphinx/`
- If you add or remove a module, within `sphinx/` run `export SPHINX_APIDOC_OPTIONS=members,show-inheritance` and then `sphinx-apidoc -t templates/ -o source/ ../rlang/rlang ../rlang/rlang/language`.
